# Databricks Asset Bundle Configuration
# Field Ops Mission: Precision Agriculture Data Platform
# End-to-end agricultural intelligence with IoT and satellite data

bundle:
  name: dbsword-fo-agritech-precision

variables:
  catalog_name:
    default: main
    description: Unity Catalog name for deployment
  schema_prefix:
    default: dbsword_agritech
    description: Prefix for medallion schemas

targets:
  dev:
    mode: development
    default: true
    workspace:
      root_path: /Workspace/Users/${workspace.current_user.userName}/dbsword-fo-agritech-precision

resources:
  schemas:
    bronze_layer:
      catalog_name: ${var.catalog_name}
      name: ${var.schema_prefix}_bronze
      comment: "Databricks Sword - AgriTech Bronze layer (sensors, weather, satellite)"

    silver_layer:
      catalog_name: ${var.catalog_name}
      name: ${var.schema_prefix}_silver
      comment: "Databricks Sword - AgriTech Silver layer (quality validated, joined)"

    gold_layer:
      catalog_name: ${var.catalog_name}
      name: ${var.schema_prefix}_gold
      comment: "Databricks Sword - AgriTech Gold layer (predictions, recommendations)"

  volumes:
    data_volume:
      catalog_name: ${var.catalog_name}
      schema_name: ${var.schema_prefix}_bronze
      name: raw_data
      volume_type: MANAGED
      comment: "Raw sensor and satellite data for agritech mission"

sync:
  include:
    - notebooks/**
    - data/**

artifacts:
  notebooks:
    path: notebooks
    deploy_to: /Workspace/Users/${workspace.current_user.userName}/dbsword-fo-agritech-precision/notebooks
